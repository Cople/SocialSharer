"use strict";var SocialSharer=function(e,t){function r(e,t){if("function"!=typeof Object.assign){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}return Object.assign(e,t)}function a(e){var t=document.querySelector("meta[name='"+e+"']");return t?t.content:t}function i(e){var t=document.querySelector("meta[property='"+e+"']");return t?t.content:t}function n(){var e=document.querySelector("link[rel='canonical']");return e?e.href:e}function c(e){var r=p[e];return r?r.replace(/\{(.*?)\}/g,function(e,r){return encodeURIComponent(t[r])}):r}function o(){var r=e.querySelectorAll("[data-service]"),a,i,n,o;if(r.length)for(a=0,i=r.length;i>a;a++)n=r[a],o=n.getAttribute("data-service"),n.className+=t.classNamePrefix+o,"wechat"==o?(l(n),n.href="javascript:;"):(n.href=c(o),n.target="_blank"),t.render&&t.render.call(u,n,o);else for(a=0,i=t.services.length;i>a;a++)o=t.services[a],n=document.createElement("a"),n.className=t.classNamePrefix+o,"wechat"==o?(l(n),n.href="javascript:;"):(n.href=c(o),n.target="_blank"),t.render&&t.render.call(u,n,o),e.appendChild(n)}function l(e){var r=document.createElement("div");r.className="qrcode-box",r.innerHTML="<h4>"+t.wechatTitle+"</h4><img src='"+c("qrcode")+"' /><p>"+t.wechatTip+"</p>",e.appendChild(r)}function s(){e="string"==typeof e?document.querySelector(e):e,t=r(h,t||{}),e._SocialSharer=u,e.className+=" social-share",o()}var u=this,h={url:i("og:url")||n()||location.href,title:i("og:title")||document.title,summary:i("og:description")||a("description")||"",pic:i("og:image")||(document.images.length?document.images[0].src:""),source:i("og:site_name")||"",weiboKey:"",twitterVia:"",twitterHashTags:"",wechatTitle:"分享到微信",wechatTip:"用微信「扫一扫」上方二维码即可。",services:["weibo","wechat","qzone","qq","douban","yingxiang"],classNamePrefix:"icon icon-",render:null},m=Math.min(2,window.devicePixelRatio||1),p={weibo:"http://service.weibo.com/share/share.php?url={url}&title={title}&pic={pic}&appkey={weiboKey}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={url}&title={title}&summary={summary}&pics={pic}&site={source}",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}&title={title}&summary={summary}&pics={pic}&site={source}",douban:"https://www.douban.com/share/service?url={url}&title={title}&text={summary}&image={pic}",facebook:"https://www.facebook.com/sharer/sharer.php?u={url}",twitter:"https://twitter.com/intent/tweet?url={url}&text={title}&via={twitterVia}&hashtags={twitterHashTags}",gplus:"https://plus.google.com/share?url={url}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={summary}&source={source}",evernote:"http://www.evernote.com/clip.action?url={url}&title={title}",yingxiang:"http://app.yinxiang.com/clip.action?url={url}&title={title}",qrcode:"http://qr.liantu.com/api.php?el=q&w="+200*m+"&m="+20*m+"&text={url}"};u.getURL=c,e._SocialSharer||s()};if("undefined"!=typeof jQuery){var pluginName="SocialSharer";jQuery.fn.socialSharer=function(e,t){return this.each(function(){var r=$(this);"string"==typeof e?r.data(pluginName)[e](t):r.data(pluginName)||r.data(pluginName,new SocialSharer(this,e))})}}Array.prototype.forEach.call(document.querySelectorAll("[data-social-sharer]"),function(e){var t=null;try{t=JSON.parse(e.getAttribute("data-social-sharer"))}catch(r){console.warn(r)}new SocialSharer(e,t)});