/*!
 * SocialSharer v1.0.2
 * http://cople.github.io/SocialSharer
 * Licensed under MIT
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.SocialSharer=t()}(this,function(){"use strict";var e=function(){this.defaults={url:this.getOpenGraphByName("og:url")||this.getCanonicalURL()||location.href,title:this.getOpenGraphByName("og:title")||document.title,summary:this.getOpenGraphByName("og:description")||this.getMetaContentByName("description")||"",pic:this.getOpenGraphByName("og:image")||(document.images.length?document.images[0].src:""),source:this.getOpenGraphByName("og:site_name")||"",weiboKey:"",twitterVia:"",twitterHashTags:"",wechatTitle:"分享到微信",wechatTip:"用微信「扫一扫」上方二维码即可。",qrcodeSize:260,services:["weibo","wechat","qzone","qq","douban","yingxiang"],templates:{},classNamePrefix:"icon icon-",render:null},this.templates={weibo:"http://service.weibo.com/share/share.php?url={url}&title={title}&pic={pic}&appkey={weiboKey}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={url}&title={title}&summary={summary}&pics={pic}&site={source}",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}&title={title}&summary={summary}&pics={pic}&site={source}",douban:"https://www.douban.com/share/service?url={url}&title={title}&text={summary}&image={pic}",facebook:"https://www.facebook.com/sharer/sharer.php?u={url}",twitter:"https://twitter.com/intent/tweet?url={url}&text={title}&via={twitterVia}&hashtags={twitterHashTags}",gplus:"https://plus.google.com/share?url={url}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={summary}&source={source}",evernote:"http://www.evernote.com/clip.action?url={url}&title={title}",yingxiang:"http://app.yinxiang.com/clip.action?url={url}&title={title}",qrcode:"//pan.baidu.com/share/qrcode?w={qrcodeSize}&h={qrcodeSize}&url={url}"},this.init.apply(this,arguments)};if(e.prototype={extend:Object.assign||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},init:function(e,t){this.container="string"==typeof e?document.querySelector(e):e,this.container._SocialSharer||(this.container._SocialSharer=this,-1==this.container.className.indexOf("social-sharer")&&(this.container.className+=" social-sharer"),t=t||{},this.options=this.extend(this.defaults,t),this.options.qrcodeSize*=Math.min(2,window.devicePixelRatio||1),t.templates&&(this.templates=this.extend(this.templates,t.templates)),this.createIcons())},getMetaContentByName:function(e){var t=document.querySelector("meta[name='"+e+"']");return t?t.content:t},getOpenGraphByName:function(e){var t=document.querySelector("meta[property='"+e+"']");return t?t.content:t},getCanonicalURL:function(){var e=document.querySelector("link[rel='canonical']");return e?e.href:e},createIcons:function(){var e,t,i,r,a=this.container.querySelectorAll("[data-service]");if(a.length)for(e=0,t=a.length;t>e;e++)i=a[e],r=i.getAttribute("data-service"),i.className+=this.options.classNamePrefix+r,"wechat"==r?(this.createQRCode(i),i.href="javascript:;"):(i.href=this.getURL(r),i.target="_blank"),this.options.render&&this.options.render.call(this,i,r);else for(e=0,t=this.options.services.length;t>e;e++)r=this.options.services[e],i=document.createElement("a"),i.className=this.options.classNamePrefix+r,"wechat"==r?(this.createQRCode(i),i.href="javascript:;"):(i.href=this.getURL(r),i.target="_blank"),this.options.render&&this.options.render.call(this,i,r),this.container.appendChild(i)},createQRCode:function(e){var t=document.createElement("div");t.className="qrcode-box",t.innerHTML="<h4>"+this.options.wechatTitle+"</h4><img src='"+this.getURL("qrcode")+"' /><p>"+this.options.wechatTip+"</p>",e.appendChild(t)},getURL:function(e){var t=this.templates[e],i=this.options;return t?t.replace(/\{(.*?)\}/g,function(e,t){return encodeURIComponent(i[t])}):t}},"undefined"!=typeof jQuery){var t="SocialSharer";jQuery.fn.socialSharer=function(i,r){return this.each(function(){var a=$(this);"string"==typeof i?a.data(t)[i](r):a.data(t)||a.data(t,new e(this,i))})}}return Array.prototype.forEach.call(document.querySelectorAll("[data-social-sharer]"),function(t){var i=null;try{i=JSON.parse(t.getAttribute("data-social-sharer"))}catch(r){console.warn(r)}new e(t,i)}),e});